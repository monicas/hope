<!DOCTYPE html>
<html>
<head>
  <title>Smart clock</title>
  <link href="css/bootstrap.css" rel="stylesheet" />
  <link href="css/bootstrap-theme.css" rel="stylesheet" />
  <link rel="stylesheet" href="//code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css">
  <script src="js/jquery-2.1.1.min.js"></script>
  <script src="js/model.js"></script>
  <script src="js/view.js"></script>
  <script src="js/controller.js"></script>
  <script src="//code.jquery.com/ui/1.11.0/jquery-ui.js"></script>
  <link rel="stylesheet" href="//code.jquery.com/mobile/1.4.3/jquery.mobile-1.4.3.min.css">
  <script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
  <script src="//code.jquery.com/mobile/1.4.3/jquery.mobile-1.4.3.min.js"></script>
  <meta charset='utf-8' />
  <meta name="format-detection" content="telephone=no" />
  <meta name="msapplication-tap-highlight" content="no" />
  <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
  <link rel="stylesheet" type="text/css" href="css/index.css" />
  <link href='css/fullcalendar.css' rel='stylesheet' />
  <link href='css/fullcalendar.print.css' rel='stylesheet' media='print' />
  <script src='js/moment.min.js'></script>
  <script src='js/jquery.min.js'></script>
  <script src='js/jquery-ui.custom.min.js'></script>
  <script src='js/fullcalendar.min.js'></script>
  <script src="css/style.css"></script>

  <script>  
    $(document).ready(function() {
      $('#calendar-view').fullCalendar({
        editable: true,
        events: [
        ]
      });
    });
  </script>

  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
      font-size: 14px;
    }

    #calendar-view {
      width: auto;
      margin: auto;
    }

    #page-view img {
      max-width: 100%;
      max-height: 150%;
      background-size: cover;
    }
  </style>

</head>


<body>
  <script type="text/javascript">
    function onDeviceReady(){
      console.log("Device is ready");
    }
    
    function recognizeSpeech() {
      var maxMatches = 1;
      var promptString = "Speak now"; // optional
      var language = "en-US";         // optional
      window.plugins.speechrecognizer.startRecognize(function(result){
        alert(result);
        if(result == "add alarm") {
          clockApp.showView('editAlarm');
        }

      }, function(errorMessage){
          console.log("Error message: " + errorMessage);
      }, maxMatches, promptString, language);
    }
    
    // Show the list of the supported languages
    function getSupportedLanguages() {
      window.plugins.speechrecognizer.getSupportedLanguages(function(languages){
      // display the json array
      alert(languages);
    }, function(error){
          alert("Could not retrieve the supported languages : " + error);
      });
  }
    document.addEventListener("deviceready", onDeviceReady, true);
    </script>

  <div data-role="header" style="overflow:hidden;" class="ui-body-b ui-body">
    <span><a href="/"><img src="logo.jpg" alt="company logo" width="200" height="115"></a>  <!--taken from selfmadehero.com. Property of Wake Up Productions--> </span>
    <span>Yo! Wake up!!</span>
      <a href="" data-icon="gear" class="ui-btn-right">Options</a>
      <a href="" data-icon="refresh" onclick="clockApp.reloadModel()" width="50" height="50" ></a>
      <a href="" data-icon="plus" onnclick="clockApp.showView('about')" width="50" height="50" ></a>
  </div><!-- /header -->

  <div class="container">
    <div class="page-header">

    </div>
  </div>

  <div id="welcome-view" class="view">
    <h1>
        <dt>Yo!! wake up!</dt>
        <dd>This clock app is a demo for the CS152aj class on Web and Mobile programming using Javascript.</dd>
    </h1>
  </div>

  <!--about page -->
  <div id="about-view" class="view"> 
    <ul data-role="listview" class="ui-listview-outer" data-inset="true">
      <li data-role="collapsible" data-iconpos="right" data-shadow="false" data-corners="false">
        <h2>Founders</h2>
        <ul data-role="listview" data-shadow="false" data-inset="true" data-corners="false">
          <li>Ben Freudman</li>
          <li>Jack Nguyen</li>
          <li>Monica Shi</li>
          <li>Yuya Yoshida</li>
        </ul>
      </li>
      <li data-role="collapsible" data-iconpos="right" data-shadow="false" data-corners="false">
        <h2>FAQ</h2>
        <ul data-role="listview" data-shadow="false" data-inset="true" data-corners="false">
          <li>How do I add a reminder?</li>
          <li>How do you edit a reminder?</li>
        </ul>
      </li>
      <li data-role="collapsible" data-iconpos="right" data-shadow="false" data-corners="false">
        <h2>Choose your preference</h2>
        <form>
          <fieldset data-role="controlgroup" data-type="horizontal">
            <label>Wake-up with ease<input type="checkbox" id="choose-birds-regular"></label>
            <label>Humans<input type="checkbox" id="choose-humans-regular"></label>
            <label>Fish<input type="checkbox" id="choose-fish-regular"></label>
          </fieldset>
        </form>
      </li>
    </ul>
    <button onclick="playAudio('http://audio.ibeat.org/content/p1rj1s/p1rj1s_-_rockGuitar.mp3');">
    <span>Play</span></button>
  </div>

  <!--contact's page information -->
  <div id="contacts-view" class="view">
    <h1>Contacts</h1>
    <ul data-role="listview" data-autodividers="true" data-inset="true">
        <li><a href="#">Ben Freudman</a></li>
        <li><a href="#">Jack Nguyen</a></li>
        <li><a href="#">Monica Shi</a></li>
        <li><a href="#">Yuya Yoshida</a></li>
        <li><a href="#">Peter Griffin</a></li>
    </ul>
  </div>

  <div id="calendar-view" class="view">
    <p><button class="ui-btn ui-icon-delete ui-btn-icon-left ui-shadow-icon ui-btn-b" onclick="clockApp.showView('page')">Swipe Up or Choose a date/week</button></p>
  </div> 

  <div id="page-view" class="view">
    <img src="paper.jpg">
    <p><button class="ui-btn ui-icon-delete ui-btn-icon-left ui-shadow-icon ui-btn-b" onclick="clockApp.showView('calendar')">Swipe Down</button></p>
  </div>


  <div id="editAlarm-view" class="view">
    <p> 
      editAlarm
    </p>
    <table>
      <td bgcolor="black" height="45">
      <img src="dg8.gif" name="hr1">
      <img src="dg8.gif" name="hr2">
      <img src="dgc.gif" name="c">
      <img src="dg8.gif" name="mn1">
      <img src="dg8.gif" name="mn2">
      <img src="dgc.gif" name="c">
      <img src="dg8.gif" name="se1">
      <img src="dg8.gif" name="se2">
      <img src="dgpm.gif" name="ampm">
      </td>
    </table>

    <script language="javascript">

      dg0 = new Image();dg0.src = "dg0.gif";
      dg1 = new Image();dg1.src = "dg1.gif";
      dg2 = new Image();dg2.src = "dg2.gif";
      dg3 = new Image();dg3.src = "dg3.gif";
      dg4 = new Image();dg4.src = "dg4.gif";
      dg5 = new Image();dg5.src = "dg5.gif";
      dg6 = new Image();dg6.src = "dg6.gif";
      dg7 = new Image();dg7.src = "dg7.gif";
      dg8 = new Image();dg8.src = "dg8.gif";
      dg9 = new Image();dg9.src = "dg9.gif";
      dgam= new Image();dgam.src= "dgam.gif";
      dgpm= new Image();dgpm.src= "dgpm.gif";
      dgc = new Image();dgc.src = "dgc.gif";

      function dotime(){ 
        theTime=setTimeout('dotime()',1000);
        d = new Date();
        hr= d.getHours()+100;
        mn= d.getMinutes()+100;
        se= d.getSeconds()+100;
        if(hr==100){hr=112;am_pm='am';}
        else if(hr<112){am_pm='am';}
        else if(hr==112){am_pm='pm';}
        else if(hr>112){am_pm='pm';hr=(hr-12);}
        tot=''+hr+mn+se;
        document.hr1.src = 'dg'+tot.substring(1,2)+'.gif';
        document.hr2.src = 'dg'+tot.substring(2,3)+'.gif';
        document.mn1.src = 'dg'+tot.substring(4,5)+'.gif';
        document.mn2.src = 'dg'+tot.substring(5,6)+'.gif';
        document.se1.src = 'dg'+tot.substring(7,8)+'.gif';
        document.se2.src = 'dg'+tot.substring(8,9)+'.gif';
        document.ampm.src= 'dg'+am_pm+'.gif';
      }
      dotime();
    </script>

    <!-- form to fill out -->
    <div class="panel panel-info">
      <label>Time:</label>
      <input type="time" class="form-control" id="newAlarmTime">
      <label>Description:</label>
      <input type="text" class="form-control" id="newAlarmDescription" placeholder="Enter new alarms here" />
      <label>Ringtone:</label>
      <input type="text" class="form-control" id="newAlarmRingtone" placeholder="Choose ringtones here" />
    </div>
    <div class="app">
            <div id="deviceready" class="blink">
                <p class="event listening">Connecting to Device</p>
                <p class="event received">Device is Ready</p>
            </div>
        </div>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
        <script type="text/javascript">
            app.initialize();
        </script>
        <input name="" id="numberTxt" placeholder="Enter mobile number" value="" type="tel" />
<br/>
<textarea name="" id="messageTxt" placeholder="Enter message"></textarea>
<br/>
<input id="btnDefaultSMS" type="button" value="Send SMS" />

    <button class="btn btn-default" id="addAlarm" onclick="clockApp.addalarm(), clockApp.showView('clockList')">Save</button>
    <button class="btn btn-default" id="cancelAlarm" onclick="clockApp.showView('clockList')">Cancel</button>
  </div>

  <div id="editReminder-view" class="view">
    <p>
      editReminder
    </p>
    <button class="btn btn-default" id="cancelReminder" onclick="clockApp.showView('clockList')">Cancel</button>
  </div>

  <div id="clockList-view" class="view">
<!--    <span><a href="refresh"><img src="refresh.png" onclick="clockApp.reloadModel()" width="50" height="50" align="left"></a></span>
    <span><a href="add"><img src="add.png" onclick="clockApp.showView('about')" width="50" height="50" alight="right"></a></span>
    <span><button id="plusBtn" class="btn btn-default" onclick="clockApp.showView('toggle')">+</button>
  </span> --> 
  <div>
    <form>
      <input type="button" data-role="none" value="+" >
      <input type="reset" data-role="none" value="Reload" onclick="clockApp.reloadModel()">
    </form>
  </div>

    <!-- class is currently hidden (display:none;) -->
    <div class="ui-widget-content ui-corner-individual" >
      <div id="effect" class="ui-widget-content ui-corner-all">
        <button class="btn btn-default" onclick="clockApp.showView('editAlarm')">Alarm</button>
        <button class="btn btn-default" onclick="clockApp.showView('editReminder')">Reminder</button>
        <button class="btn btn-default" id="cancel">Cancel</button>
      </div>
    </div>

      <table class="table table-striped">
        <thead>
          <tr>
            <th>Time</th>
            <th>Status</th>
            <th>Description</th>
            <th>Remove</th>
          </tr>
        </thead>
        <tbody id="alarmTableBody"></tbody>
      </table>

      <div class="checkbox-inline">
        <label><input id="showon" type="checkbox" name="try" onchange="clockApp.refreshView()" checked> Show "On" Alarms</label>
      </div>
  </div>
</body>

  <script>
     $("[name='try']").bootstrapSwitch();
  //console.log(clockApp.getAlarms+"try!!!!!!!!!!!");
  // for (i = 0; i < clockApp.getAlarms().length; i++)
  // {
  //   alarm = clockApp.getAlarms()[i];
  //   console.log("try!");
  //   console.log(alarm.time+"try!!!!!!!!!!!!++++++");
  //   $("[name='switchonoff"+alarm.id+"']").bootstrapSwitch();
  // }
  // console.log($("[name='try']"));
  //  $("[name='switchonoff']").bootstrapSwitch();
  //  console.log($("[name='switchonoff']"));
  // this is the code that actually starts the JavaScript application!!
  // when the document has been fully loaded, all the clockApp.start() method
  $(document).ready(clockApp.start());

  </script>
  <div>
        <button onclick="clockApp.showView('clockList')">
        <span>Clocks</span></button>
    <button onclick="clockApp.showView('contacts')">
        <span>Contacts</span></button>
    <button onclick="clockApp.showView('calendar')">
        <span>Calendar</span></button>
    <button onclick="clockApp.showView('about')">
        <span>About</span></button>
    <button onclick="recognizeSpeech();">
        <span>Speech</button>
</div>

    <div data-role="footer" data-position="fixed" class="ui-body-b ui-body">
        <div data-role="navbar" d>
          <ul class="nav nav-tabs" id="bottom-tabs" data-iconpos="bottom">
            <li><a  data-icon="home" onclick="clockApp.showView('welcome')"  icon-size="auto" toggle="tab"></a></li>
            <li><a data-icon="bullets" onclick="clockApp.showView('clockList')" icon-size="auto" toggle="tab"></a></li>
            <li><a data-icon="calendar" onclick="clockApp.showView('calendar')" icon-size="auto" toggle="tab"></a></li>
            <li><a data-icon="user"  onclick="clockApp.showView('contacts')" icon-size="auto" toggle="tab"></a></li>
             <li><a data-icon="info" onclick="clockApp.showView('about')" icon-size="auto"></a></li>
          </ul> 
        </div><!-- /navbar -->
    </div><!-- /footer -->
 
        <script type="text/javascript">
            clockApp.start();
        </script>

<script>
     // document.addEventListener("deviceready", onDeviceReady, false);

     //    // device APIs are available
     //    //
     //    function onDeviceReady() {
     //        playAudio("cocoa.mp3");
     //    }

     //    // Audio player
     //    //
     //    var my_media = null;
     //    var mediaTimer = null;

     //    // Play audio
     //    //
     //    function playAudio(src) {
     //        var now = new Date;
     //        var hour = now.getHours(); console.log('hour' + hour);
     //        var minutes = now.getMinutes(); console.log("minute" + minutes);
     //        var alarmHour = ;
     //        var alarmMinute = ;
     //        if (isNaN(alarmHour) || alarmHour < 0 || alarmHour > 23) {
     //           throw new Error('invalid hour: ' + alarmHour);
     //        }
 
     //        if (isNaN(alarmMinute) || alarmMinute < 0 || alarmMinute > 59) {
     //           throw new Error('invalid minute: ' + alarmMinute);
     //        }


     //        // Create Media object from src
     //        my_media = new Media(src, onSuccess, onError);
     //   //     my_media.play();}
     //        // Play audio
     //       if (hour == alarmHour && minutes == alarmMinute) {
     //         console.log('works');
     //         my_media.play();
     //        }}

            
     //    // onSuccess Callback
     //    //
     //    function onSuccess() {
     //        console.log("playAudio():Audio Success");
     //    }

     //    // onError Callback
     //    //
     //    function onError(error) {
     //        alert('code: '    + error.code    + '\n' +
     //              'message: ' + error.message + '\n');
     //    }
  </script>



</html>
